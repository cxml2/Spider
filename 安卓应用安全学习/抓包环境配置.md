# 虚拟机配置
网卡设置为 桥接模式，并保证使用的网卡可以在路由器上获取IP

# charles
```shell
wget https://www.charlesproxy.com/assets/release/4.6.1/charles-proxy-4.6.1_amd64.tar.gz
tar zxvf charles-proxy-4.6.1_amd64.tar.gz
```

破解网站 \
https://www.zzzmode.com/mytools/charles/
```shell
# 查找 charles.jar 所在目录
tree -NCfhl | grep charles.jar
```

# burp
安装破解方法参考
https://blog.csdn.net/u014549283/article/details/81248886

安装完成之后配置
```text
# 启动
java -jar burploader.jar
```

![](./Img/QQ截图20210423004118.png)


# postern
http://cn.4androidapk.com/download-software-47775.html

先配置代理，在配置代理规则
## 配置代理
服务器地址：通过ifconfig查看
端口：Charles的端口 默认8888
代理类型：HTTPS/HTTP CONNECT
用户名、密码为空

## 配置规则
匹配类型：匹配所有地址
动作：通过代理连接

## 简单使用
* proxy -> proxy settings 
  设置代理端口
* proxy -> ssl proxy settings 
  设置ssl抓包,勾选 Enable SSL Proxying , include 里面添加 *，* 配置
  

此时抓包的话可以解开http的，https的包无法解开，

#证书安装
为啥要安装证书呢，装了证书可以抓App的包 \
连上代理，浏览器输入 `chls.pro/ssl` 下载证书并安装
默认安装到用户目录下，不是系统目录下

如果打开网址证书没有自动下载，就需要先行导出，
然后再push到手机上，自行安装

**注意接下来的步骤,将证书添加到系统证书目录下** \
**注意接下来的步骤,将证书添加到系统证书目录下** \
**注意接下来的步骤,将证书添加到系统证书目录下**
```shell
cd /data/misc/user/0/cacerts-added/ 
mount -o remount,rw / 
cp * /etc/security/cacerts/ 
# 如果执行失败或者显示只读，重新挂载 mount -o remount,rw /system

mount -o remount,rw /   # 同上，上面加 system，这里也要加

reboot
```

等手机重启完成之后就可以在系统目录下看到证书了

---

https://www.anquanke.com/post/id/197657

